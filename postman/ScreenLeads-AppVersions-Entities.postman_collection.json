{
  "info": {
    "_postman_id": "app-system-collection-001",
    "name": "ScreenLeads - 11. App Versions & Entities",
    "description": "Gestión de versiones de la aplicación y entidades del sistema",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "JWT Authentication",
      "item": [
        {
          "name": "App Versions",
          "item": [
            {
              "name": "Get All Versions",
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{jwt_token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{base_url}}/app-versions",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "app-versions"
                  ]
                },
                "description": "Lista todas las versiones de la app. Requiere permiso: appversion:read"
              },
              "response": []
            },
            {
              "name": "Get Version by ID",
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{jwt_token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{base_url}}/app-versions/1",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "app-versions",
                    "1"
                  ]
                },
                "description": "Obtiene una versión específica por ID. Requiere permiso: appversion:read"
              },
              "response": []
            },
            {
              "name": "Get Latest Version by Platform",
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{jwt_token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{base_url}}/app-versions/latest/ANDROID",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "app-versions",
                    "latest",
                    "ANDROID"
                  ]
                },
                "description": "Obtiene la última versión publicada para una plataforma. Requiere permiso: appversion:read"
              },
              "response": []
            },
            {
              "name": "Create Version",
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{jwt_token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"versionName\": \"2.5.0\",\n  \"versionCode\": 250,\n  \"platform\": \"ANDROID\",\n  \"minSupportedVersion\": \"2.0.0\",\n  \"forceUpdate\": false,\n  \"releaseNotes\": \"Nueva versión con mejoras de rendimiento\",\n  \"status\": \"PUBLISHED\"\n}"
                },
                "url": {
                  "raw": "{{base_url}}/app-versions",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "app-versions"
                  ]
                },
                "description": "Crea una nueva versión de la app. Requiere permiso: appversion:write"
              },
              "response": []
            },
            {
              "name": "Update Version",
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{jwt_token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "PUT",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"versionName\": \"2.5.1\",\n  \"versionCode\": 251,\n  \"platform\": \"ANDROID\",\n  \"minSupportedVersion\": \"2.0.0\",\n  \"forceUpdate\": true,\n  \"releaseNotes\": \"Corrección de errores críticos\",\n  \"status\": \"PUBLISHED\"\n}"
                },
                "url": {
                  "raw": "{{base_url}}/app-versions/1",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "app-versions",
                    "1"
                  ]
                },
                "description": "Actualiza una versión existente. Requiere permiso: appversion:write"
              },
              "response": []
            },
            {
              "name": "Delete Version",
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{jwt_token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "DELETE",
                "header": [],
                "url": {
                  "raw": "{{base_url}}/app-versions/1",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "app-versions",
                    "1"
                  ]
                },
                "description": "Elimina una versión. Requiere permiso: appversion:delete"
              },
              "response": []
            }
          ]
        },
        {
          "name": "Entities (App Entities)",
          "item": [
            {
              "name": "Get All Entities",
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{jwt_token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{base_url}}/entities?includeDisabled=false&sortBy=displayOrder&sortDirection=ASC",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "entities"
                  ],
                  "query": [
                    {
                      "key": "includeDisabled",
                      "value": "false"
                    },
                    {
                      "key": "sortBy",
                      "value": "displayOrder"
                    },
                    {
                      "key": "sortDirection",
                      "value": "ASC"
                    }
                  ]
                },
                "description": "Lista todas las entidades del sistema. Requiere permiso: entity:read"
              },
              "response": []
            },
            {
              "name": "Get Entity by ID",
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{jwt_token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{base_url}}/entities/1",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "entities",
                    "1"
                  ]
                },
                "description": "Obtiene una entidad específica por ID. Requiere permiso: entity:read"
              },
              "response": []
            },
            {
              "name": "Get Entity by Resource Name",
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{jwt_token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{base_url}}/entities/by-resource/customers",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "entities",
                    "by-resource",
                    "customers"
                  ]
                },
                "description": "Obtiene una entidad por su nombre de recurso. Requiere permiso: entity:read"
              },
              "response": []
            },
            {
              "name": "Create/Update Entity (Upsert)",
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{jwt_token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"resourceName\": \"customers\",\n  \"displayName\": \"Clientes\",\n  \"displayNamePlural\": \"Clientes\",\n  \"icon\": \"people\",\n  \"displayOrder\": 1,\n  \"enabled\": true,\n  \"attributes\": [\n    {\n      \"attributeKey\": \"name\",\n      \"displayName\": \"Nombre\",\n      \"dataType\": \"STRING\",\n      \"displayOrder\": 1,\n      \"enabled\": true\n    }\n  ]\n}"
                },
                "url": {
                  "raw": "{{base_url}}/entities",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "entities"
                  ]
                },
                "description": "Crea o actualiza una entidad (upsert por resourceName). Requiere permiso: entity:write"
              },
              "response": []
            },
            {
              "name": "Update Entity by ID",
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{jwt_token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "PUT",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"displayName\": \"Clientes Actualizados\",\n  \"displayNamePlural\": \"Clientes\",\n  \"icon\": \"people_outline\",\n  \"displayOrder\": 2,\n  \"enabled\": true\n}"
                },
                "url": {
                  "raw": "{{base_url}}/entities/1",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "entities",
                    "1"
                  ]
                },
                "description": "Actualiza una entidad existente por ID. Requiere permiso: entity:write"
              },
              "response": []
            },
            {
              "name": "Delete Entity",
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{jwt_token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "DELETE",
                "header": [],
                "url": {
                  "raw": "{{base_url}}/entities/1",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "entities",
                    "1"
                  ]
                },
                "description": "Elimina una entidad. Requiere permiso: entity:delete"
              },
              "response": []
            },
            {
              "name": "Reorder Entities",
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{jwt_token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "PUT",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"entityIds\": [3, 1, 2, 4]\n}"
                },
                "url": {
                  "raw": "{{base_url}}/entities/reorder",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "entities",
                    "reorder"
                  ]
                },
                "description": "Reordena múltiples entidades. Requiere permiso: entity:write"
              },
              "response": []
            },
            {
              "name": "Reorder Entity Attributes",
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{jwt_token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "PUT",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"attributeIds\": [2, 1, 3]\n}"
                },
                "url": {
                  "raw": "{{base_url}}/entities/1/attributes/reorder",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "entities",
                    "1",
                    "attributes",
                    "reorder"
                  ]
                },
                "description": "Reordena los atributos de una entidad. Requiere permiso: entity:write"
              },
              "response": []
            }
          ]
        }
      ]
    },
    {
      "name": "API Key Authentication",
      "item": [
        {
          "name": "App Versions",
          "item": [
            {
              "name": "Get All Versions",
              "request": {
                "auth": {
                  "type": "noauth"
                },
                "method": "GET",
                "header": [
                  {
                    "key": "X-API-KEY",
                    "value": "{{api_key}}",
                    "type": "text"
                  },
                  {
                    "key": "client-id",
                    "value": "{{client_id}}",
                    "type": "text"
                  }
                ],
                "url": {
                  "raw": "{{base_url}}/app-versions",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "app-versions"
                  ]
                },
                "description": "Lista todas las versiones de la app. Requiere scope: appversion:read"
              },
              "response": []
            },
            {
              "name": "Get Version by ID",
              "request": {
                "auth": {
                  "type": "noauth"
                },
                "method": "GET",
                "header": [
                  {
                    "key": "X-API-KEY",
                    "value": "{{api_key}}",
                    "type": "text"
                  },
                  {
                    "key": "client-id",
                    "value": "{{client_id}}",
                    "type": "text"
                  }
                ],
                "url": {
                  "raw": "{{base_url}}/app-versions/1",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "app-versions",
                    "1"
                  ]
                },
                "description": "Obtiene una versión específica por ID. Requiere scope: appversion:read"
              },
              "response": []
            },
            {
              "name": "Get Latest Version by Platform",
              "request": {
                "auth": {
                  "type": "noauth"
                },
                "method": "GET",
                "header": [
                  {
                    "key": "X-API-KEY",
                    "value": "{{api_key}}",
                    "type": "text"
                  },
                  {
                    "key": "client-id",
                    "value": "{{client_id}}",
                    "type": "text"
                  }
                ],
                "url": {
                  "raw": "{{base_url}}/app-versions/latest/ANDROID",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "app-versions",
                    "latest",
                    "ANDROID"
                  ]
                },
                "description": "Obtiene la última versión publicada para una plataforma. Requiere scope: appversion:read"
              },
              "response": []
            },
            {
              "name": "Create Version",
              "request": {
                "auth": {
                  "type": "noauth"
                },
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-API-KEY",
                    "value": "{{api_key}}",
                    "type": "text"
                  },
                  {
                    "key": "client-id",
                    "value": "{{client_id}}",
                    "type": "text"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"versionName\": \"2.5.0\",\n  \"versionCode\": 250,\n  \"platform\": \"ANDROID\",\n  \"minSupportedVersion\": \"2.0.0\",\n  \"forceUpdate\": false,\n  \"releaseNotes\": \"Nueva versión con mejoras de rendimiento\",\n  \"status\": \"PUBLISHED\"\n}"
                },
                "url": {
                  "raw": "{{base_url}}/app-versions",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "app-versions"
                  ]
                },
                "description": "Crea una nueva versión de la app. Requiere scope: appversion:write"
              },
              "response": []
            },
            {
              "name": "Update Version",
              "request": {
                "auth": {
                  "type": "noauth"
                },
                "method": "PUT",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-API-KEY",
                    "value": "{{api_key}}",
                    "type": "text"
                  },
                  {
                    "key": "client-id",
                    "value": "{{client_id}}",
                    "type": "text"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"versionName\": \"2.5.1\",\n  \"versionCode\": 251,\n  \"platform\": \"ANDROID\",\n  \"minSupportedVersion\": \"2.0.0\",\n  \"forceUpdate\": true,\n  \"releaseNotes\": \"Corrección de errores críticos\",\n  \"status\": \"PUBLISHED\"\n}"
                },
                "url": {
                  "raw": "{{base_url}}/app-versions/1",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "app-versions",
                    "1"
                  ]
                },
                "description": "Actualiza una versión existente. Requiere scope: appversion:write"
              },
              "response": []
            },
            {
              "name": "Delete Version",
              "request": {
                "auth": {
                  "type": "noauth"
                },
                "method": "DELETE",
                "header": [
                  {
                    "key": "X-API-KEY",
                    "value": "{{api_key}}",
                    "type": "text"
                  },
                  {
                    "key": "client-id",
                    "value": "{{client_id}}",
                    "type": "text"
                  }
                ],
                "url": {
                  "raw": "{{base_url}}/app-versions/1",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "app-versions",
                    "1"
                  ]
                },
                "description": "Elimina una versión. Requiere scope: appversion:delete"
              },
              "response": []
            }
          ]
        },
        {
          "name": "Entities (App Entities)",
          "item": [
            {
              "name": "Get All Entities",
              "request": {
                "auth": {
                  "type": "noauth"
                },
                "method": "GET",
                "header": [
                  {
                    "key": "X-API-KEY",
                    "value": "{{api_key}}",
                    "type": "text"
                  },
                  {
                    "key": "client-id",
                    "value": "{{client_id}}",
                    "type": "text"
                  }
                ],
                "url": {
                  "raw": "{{base_url}}/entities?includeDisabled=false&sortBy=displayOrder&sortDirection=ASC",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "entities"
                  ],
                  "query": [
                    {
                      "key": "includeDisabled",
                      "value": "false"
                    },
                    {
                      "key": "sortBy",
                      "value": "displayOrder"
                    },
                    {
                      "key": "sortDirection",
                      "value": "ASC"
                    }
                  ]
                },
                "description": "Lista todas las entidades del sistema. Requiere scope: entity:read"
              },
              "response": []
            },
            {
              "name": "Get Entity by ID",
              "request": {
                "auth": {
                  "type": "noauth"
                },
                "method": "GET",
                "header": [
                  {
                    "key": "X-API-KEY",
                    "value": "{{api_key}}",
                    "type": "text"
                  },
                  {
                    "key": "client-id",
                    "value": "{{client_id}}",
                    "type": "text"
                  }
                ],
                "url": {
                  "raw": "{{base_url}}/entities/1",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "entities",
                    "1"
                  ]
                },
                "description": "Obtiene una entidad específica por ID. Requiere scope: entity:read"
              },
              "response": []
            },
            {
              "name": "Get Entity by Resource Name",
              "request": {
                "auth": {
                  "type": "noauth"
                },
                "method": "GET",
                "header": [
                  {
                    "key": "X-API-KEY",
                    "value": "{{api_key}}",
                    "type": "text"
                  },
                  {
                    "key": "client-id",
                    "value": "{{client_id}}",
                    "type": "text"
                  }
                ],
                "url": {
                  "raw": "{{base_url}}/entities/by-resource/customers",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "entities",
                    "by-resource",
                    "customers"
                  ]
                },
                "description": "Obtiene una entidad por su nombre de recurso. Requiere scope: entity:read"
              },
              "response": []
            },
            {
              "name": "Create/Update Entity (Upsert)",
              "request": {
                "auth": {
                  "type": "noauth"
                },
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-API-KEY",
                    "value": "{{api_key}}",
                    "type": "text"
                  },
                  {
                    "key": "client-id",
                    "value": "{{client_id}}",
                    "type": "text"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"resourceName\": \"customers\",\n  \"displayName\": \"Clientes\",\n  \"displayNamePlural\": \"Clientes\",\n  \"icon\": \"people\",\n  \"displayOrder\": 1,\n  \"enabled\": true,\n  \"attributes\": [\n    {\n      \"attributeKey\": \"name\",\n      \"displayName\": \"Nombre\",\n      \"dataType\": \"STRING\",\n      \"displayOrder\": 1,\n      \"enabled\": true\n    }\n  ]\n}"
                },
                "url": {
                  "raw": "{{base_url}}/entities",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "entities"
                  ]
                },
                "description": "Crea o actualiza una entidad (upsert por resourceName). Requiere scope: entity:write"
              },
              "response": []
            },
            {
              "name": "Update Entity by ID",
              "request": {
                "auth": {
                  "type": "noauth"
                },
                "method": "PUT",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-API-KEY",
                    "value": "{{api_key}}",
                    "type": "text"
                  },
                  {
                    "key": "client-id",
                    "value": "{{client_id}}",
                    "type": "text"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"displayName\": \"Clientes Actualizados\",\n  \"displayNamePlural\": \"Clientes\",\n  \"icon\": \"people_outline\",\n  \"displayOrder\": 2,\n  \"enabled\": true\n}"
                },
                "url": {
                  "raw": "{{base_url}}/entities/1",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "entities",
                    "1"
                  ]
                },
                "description": "Actualiza una entidad existente por ID. Requiere scope: entity:write"
              },
              "response": []
            },
            {
              "name": "Delete Entity",
              "request": {
                "auth": {
                  "type": "noauth"
                },
                "method": "DELETE",
                "header": [
                  {
                    "key": "X-API-KEY",
                    "value": "{{api_key}}",
                    "type": "text"
                  },
                  {
                    "key": "client-id",
                    "value": "{{client_id}}",
                    "type": "text"
                  }
                ],
                "url": {
                  "raw": "{{base_url}}/entities/1",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "entities",
                    "1"
                  ]
                },
                "description": "Elimina una entidad. Requiere scope: entity:delete"
              },
              "response": []
            },
            {
              "name": "Reorder Entities",
              "request": {
                "auth": {
                  "type": "noauth"
                },
                "method": "PUT",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-API-KEY",
                    "value": "{{api_key}}",
                    "type": "text"
                  },
                  {
                    "key": "client-id",
                    "value": "{{client_id}}",
                    "type": "text"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"entityIds\": [3, 1, 2, 4]\n}"
                },
                "url": {
                  "raw": "{{base_url}}/entities/reorder",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "entities",
                    "reorder"
                  ]
                },
                "description": "Reordena múltiples entidades. Requiere scope: entity:write"
              },
              "response": []
            },
            {
              "name": "Reorder Entity Attributes",
              "request": {
                "auth": {
                  "type": "noauth"
                },
                "method": "PUT",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "X-API-KEY",
                    "value": "{{api_key}}",
                    "type": "text"
                  },
                  {
                    "key": "client-id",
                    "value": "{{client_id}}",
                    "type": "text"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"attributeIds\": [2, 1, 3]\n}"
                },
                "url": {
                  "raw": "{{base_url}}/entities/1/attributes/reorder",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "entities",
                    "1",
                    "attributes",
                    "reorder"
                  ]
                },
                "description": "Reordena los atributos de una entidad. Requiere scope: entity:write"
              },
              "response": []
            }
          ]
        }
      ]
    }
  ]
}